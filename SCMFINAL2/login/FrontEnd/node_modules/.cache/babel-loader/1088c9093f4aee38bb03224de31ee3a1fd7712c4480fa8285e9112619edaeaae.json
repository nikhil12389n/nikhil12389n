{"ast":null,"code":"// import { useEffect } from \"react\";\n// import Web3 from \"web3\";\n// import ConnectContract from \"./ConnectContract\";\n// import ConnectMetamask from \"./ConnectMetamask\";\n// import $ from 'jquery';\n// import 'datatables.net';\n\n// import 'datatables.net-dt/css/jquery.dataTables.css';\n\n// export default function SendReq(){\n\n//   let account=\"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\n//   let products=[];\n//   let quantities=[];\n//   let table;\n//   useEffect(()=>{\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//     table= $(\"#example\").DataTable({\n//       columns: [\n//         { title: \"RequestNo\", data: \"requestno\" },\n//         { title: \"product\", data: \"product\" },\n//         { title: \"quantity\", data: \"quantity\" },\n//         { title: \"date\", data: \"date\" },\n//       ],\n//     });\n\n//     ConnectMetamask();\n//     ConnectContract();\n\n//   },[]);\n//   const putdata=async(adstname,product,quantity,date,e)=>{\n\n//     const count=parseInt(await window.contract.methods.getrequestcount(document.getElementById(\"adstname\").innerText).call());\n\n//     if(e==\"notsubmit\"){\n//       table.row.add({requestno:count+1,product:product,quantity:quantity,date:date}).draw();\n//     }\n//     else{\n//       table.row.add({'requestno':count+1,'product':product,'quantity':quantity,'date':date}).draw();\n\n//       console.log(document.getElementById(\"adstname\").innerText,products,quantities,date);\n//       let dup=document.getElementById(\"adstname\").innerText;\n//       let ref=\"\";\n//       for(let i=0;i<2;i++){\n//           ref+=dup[i];\n//       }\n//       if(ref===\"D1\"){\n//           dup=\"DIVISION1\";\n//       }\n//       if(ref===\"D2\"){\n//           dup=\"DIVISION2\";\n//       }\n//       if(ref===\"D3\"){\n//           dup=\"DIVISION3\";\n//       }\n//       try{\n//         await window.contract.methods.fillform(dup,document.getElementById(\"adstname\").innerText,products,quantities,date).send({from:account});\n//       }\n//       catch(err){\n//         alert(\"Transaction is cancelled!\");\n//       }\n\n//     }\n//   }\n//   const handleclick=()=>{\n//     putdata(document.getElementById('adstname').innerText,document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'submit');\n//   }\n//   const handleclick1=()=>{\n//     putdata(document.getElementById('adstname').innerText,document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'notsubmit')\n//   }\n//     return (\n//         <>\n//         <div className=\"form bs-tooltip-end container\">\n\n//       <h>Enter product</h>\n//       <input  type=\"text\"  placeholder=\"product\"  id=\"product\" className=\"form-control\" list=\"browser\" name=\"browser\"/>\n//       <datalist id=\"browser\">\n//         <option value=\"Wheat\"></option>\n//         <option value=\"Grains\"></option>\n//         <option value=\"Eggs\"></option>\n//         <option value=\"Rice\"></option>\n//         <option value=\"Meals\"></option>\n//       </datalist>\n//       <h> Enter Quantity</h>\n//       <input type=\"number\" className=\"form-control\" placeholder=\"quantity\" min=\"1\" id=\"quantity\"/>\n//       <h>Enter date</h>\n//       <input type=\"date\" className=\"form-control\" placeholder=\"date\" id=\"date1\" />\n//       <button className=\"btn btn-dark\" onClick={handleclick1}>Addmore</button>\n//       <hr />\n//       <h3>Details of your request</h3>\n\n//       <table id=\"example\" style={{width: \"100\"}}></table>\n//       <button className=\"btn btn-dark\" onClick={handleclick}>Submit</button>  \n//     </div>\n\n//         </>\n//     );\n// }","map":{"version":3,"names":[],"sources":["D:/SCMFINAL/login/public/src/ADSTR/SendReq.jsx"],"sourcesContent":["// import { useEffect } from \"react\";\r\n// import Web3 from \"web3\";\r\n// import ConnectContract from \"./ConnectContract\";\r\n// import ConnectMetamask from \"./ConnectMetamask\";\r\n// import $ from 'jquery';\r\n// import 'datatables.net';\r\n\r\n// import 'datatables.net-dt/css/jquery.dataTables.css';\r\n\r\n// export default function SendReq(){\r\n  \r\n//   let account=\"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\r\n//   let products=[];\r\n//   let quantities=[];\r\n//   let table;\r\n//   useEffect(()=>{\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//     table= $(\"#example\").DataTable({\r\n//       columns: [\r\n//         { title: \"RequestNo\", data: \"requestno\" },\r\n//         { title: \"product\", data: \"product\" },\r\n//         { title: \"quantity\", data: \"quantity\" },\r\n//         { title: \"date\", data: \"date\" },\r\n//       ],\r\n//     });\r\n    \r\n//     ConnectMetamask();\r\n//     ConnectContract();\r\n    \r\n//   },[]);\r\n//   const putdata=async(adstname,product,quantity,date,e)=>{\r\n\r\n//     const count=parseInt(await window.contract.methods.getrequestcount(document.getElementById(\"adstname\").innerText).call());\r\n    \r\n//     if(e==\"notsubmit\"){\r\n//       table.row.add({requestno:count+1,product:product,quantity:quantity,date:date}).draw();\r\n//     }\r\n//     else{\r\n//       table.row.add({'requestno':count+1,'product':product,'quantity':quantity,'date':date}).draw();\r\n            \r\n//       console.log(document.getElementById(\"adstname\").innerText,products,quantities,date);\r\n//       let dup=document.getElementById(\"adstname\").innerText;\r\n//       let ref=\"\";\r\n//       for(let i=0;i<2;i++){\r\n//           ref+=dup[i];\r\n//       }\r\n//       if(ref===\"D1\"){\r\n//           dup=\"DIVISION1\";\r\n//       }\r\n//       if(ref===\"D2\"){\r\n//           dup=\"DIVISION2\";\r\n//       }\r\n//       if(ref===\"D3\"){\r\n//           dup=\"DIVISION3\";\r\n//       }\r\n//       try{\r\n//         await window.contract.methods.fillform(dup,document.getElementById(\"adstname\").innerText,products,quantities,date).send({from:account});\r\n//       }\r\n//       catch(err){\r\n//         alert(\"Transaction is cancelled!\");\r\n//       }\r\n\r\n//     }\r\n//   }\r\n//   const handleclick=()=>{\r\n//     putdata(document.getElementById('adstname').innerText,document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'submit');\r\n//   }\r\n//   const handleclick1=()=>{\r\n//     putdata(document.getElementById('adstname').innerText,document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'notsubmit')\r\n//   }\r\n//     return (\r\n//         <>\r\n//         <div className=\"form bs-tooltip-end container\">\r\n\r\n//       <h>Enter product</h>\r\n//       <input  type=\"text\"  placeholder=\"product\"  id=\"product\" className=\"form-control\" list=\"browser\" name=\"browser\"/>\r\n//       <datalist id=\"browser\">\r\n//         <option value=\"Wheat\"></option>\r\n//         <option value=\"Grains\"></option>\r\n//         <option value=\"Eggs\"></option>\r\n//         <option value=\"Rice\"></option>\r\n//         <option value=\"Meals\"></option>\r\n//       </datalist>\r\n//       <h> Enter Quantity</h>\r\n//       <input type=\"number\" className=\"form-control\" placeholder=\"quantity\" min=\"1\" id=\"quantity\"/>\r\n//       <h>Enter date</h>\r\n//       <input type=\"date\" className=\"form-control\" placeholder=\"date\" id=\"date1\" />\r\n//       <button className=\"btn btn-dark\" onClick={handleclick1}>Addmore</button>\r\n//       <hr />\r\n//       <h3>Details of your request</h3>\r\n\r\n//       <table id=\"example\" style={{width: \"100\"}}></table>\r\n//       <button className=\"btn btn-dark\" onClick={handleclick}>Submit</button>  \r\n//     </div>\r\n    \r\n//         </>\r\n//     );\r\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\SCMFINAL\\\\login\\\\public\\\\src\\\\DDSTR\\\\ReceivedReq.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport ConnectMetamask from \"../ADSTR/ConnectMetamask\";\nimport ConnectContractSR from \"./ConnectContractSR\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DIVISIONReceivedReq() {\n  _s();\n  const [res, setRes] = useState([]);\n  ConnectMetamask();\n  ConnectContractSR();\n  useEffect(() => {\n    const fetchdata = async () => {\n      let res = await window.contract.methods.getallreqreceivedddst(localStorage.getItem(\"ROLENAME\")).call();\n      let res2 = await window.contract1.methods.getallreqreceivedddst(localStorage.getItem(\"ROLENAME\")).call();\n      let updated = [...res];\n      for (let i = 0; i < res2.length; i++) {\n        for (let j = 0; j < updated.length; j++) {\n          if (updated[j].reqno === res2[i].reqno && updated[j].from === res2[i].from) {\n            updated[j] = res2[i];\n          }\n        }\n      }\n      if (updated.length === 0) {\n        updated = [...res2];\n      }\n      setRes(updated);\n      for (let i = 0; i < updated.length; i++) {\n        if (updated[i].reqfrom.length === 7) {\n          if (updated[i].acceptedby === \"No supplies in units\") {\n            // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"NA\",'sentasc':\"<button class='btn btn-dark send-dgst'>Send to DGST</button>\"}).draw();\n          }\n          if (updated[i].status === \"pending\") {\n            // console.log(\"HI\");\n            // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"<button class='btn btn-dark send-adsts'>Send to adsts</button>\",'sentasc':\"NA\"}).draw();\n          }\n        } else {\n          if (updated[i].status === \"pending\") {\n            // console.log(updated[i].reqfrom);\n            // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"<button class='btn btn-dark send-alladsts'>Send to adsts</button>\",'sentasc':\"NA\"}).draw();\n          }\n        }\n      }\n    };\n    fetchdata();\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [res, /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped table-hover\",\n        id: \"myTable\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Request no\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Request from\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Quantities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"send to adst\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"send to dgst\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: res.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: parseInt(row.reqno)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.reqfrom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.products\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.quantities\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this), row.reqfrom.length === 7 && row.acceptedby === \"No supplies in units\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Send to dgst\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 107\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(DIVISIONReceivedReq, \"JHicEwtYZXxnb1oyf1SP5sp0KCE=\");\n_c = DIVISIONReceivedReq;\nvar _c;\n$RefreshReg$(_c, \"DIVISIONReceivedReq\");","map":{"version":3,"names":["React","useState","useEffect","ConnectMetamask","ConnectContractSR","jsxDEV","_jsxDEV","Fragment","_Fragment","DIVISIONReceivedReq","_s","res","setRes","fetchdata","window","contract","methods","getallreqreceivedddst","localStorage","getItem","call","res2","contract1","updated","i","length","j","reqno","from","reqfrom","acceptedby","status","children","className","id","fileName","_jsxFileName","lineNumber","columnNumber","map","row","parseInt","products","quantities","date","_c","$RefreshReg$"],"sources":["D:/SCMFINAL/login/public/src/DDSTR/ReceivedReq.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport ConnectMetamask from \"../ADSTR/ConnectMetamask\";\r\nimport ConnectContractSR from \"./ConnectContractSR\";\r\n\r\nexport default function DIVISIONReceivedReq() {\r\n    const [res, setRes] = useState([]);\r\n    ConnectMetamask();\r\n    ConnectContractSR();\r\n    useEffect(() => {\r\n        const fetchdata = async () => {\r\n            let res = await window.contract.methods\r\n                .getallreqreceivedddst(localStorage.getItem(\"ROLENAME\"))\r\n                .call();\r\n\r\n            let res2 = await window.contract1.methods\r\n                .getallreqreceivedddst(localStorage.getItem(\"ROLENAME\"))\r\n                .call();\r\n\r\n            let updated = [...res];\r\n            for (let i = 0; i < res2.length; i++) {\r\n                for (let j = 0; j < updated.length; j++) {\r\n                    if (\r\n                        updated[j].reqno === res2[i].reqno &&\r\n                        updated[j].from === res2[i].from\r\n                    ) {\r\n                        updated[j] = res2[i];\r\n                    }\r\n                }\r\n            }\r\n            if (updated.length === 0) {\r\n                updated = [...res2];\r\n            }\r\n\r\n            setRes(updated);\r\n            for (let i = 0; i < updated.length; i++) {\r\n                if (updated[i].reqfrom.length === 7) {\r\n                    if (updated[i].acceptedby === \"No supplies in units\") {\r\n                        // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"NA\",'sentasc':\"<button class='btn btn-dark send-dgst'>Send to DGST</button>\"}).draw();\r\n                    }\r\n\r\n                    if (updated[i].status === \"pending\") {\r\n                        // console.log(\"HI\");\r\n                        // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"<button class='btn btn-dark send-adsts'>Send to adsts</button>\",'sentasc':\"NA\"}).draw();\r\n                    }\r\n                } else {\r\n                    if (updated[i].status === \"pending\") {\r\n                        // console.log(updated[i].reqfrom);\r\n                        // table.row.add({'requestno':res[i].reqno,'from':res[i].from,'product':res[i].products,'quantity':res[i].quantities,'date':res[i].date,'sendtoadsts':\"<button class='btn btn-dark send-alladsts'>Send to adsts</button>\",'sentasc':\"NA\"}).draw();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        fetchdata();\r\n    });\r\n    return (\r\n        <>\r\n        \r\n            <div className=\"container\" >\r\n            {res}\r\n            <table className=\"table table-striped table-hover\" id=\"myTable\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Request no</th>\r\n                            <th>Request from</th>\r\n                            <th>Products</th>\r\n                            <th>Quantities</th>\r\n                            <th>Date</th>\r\n                            <th>send to adst</th>\r\n                            <th>send to dgst</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {res.map((row, i) => (\r\n                            <tr key={i}>\r\n                                <td>{parseInt(row.reqno)}</td>\r\n                                <td>{row.reqfrom}</td>\r\n                                <td>{row.products}</td>\r\n                                <td>{row.quantities}</td>\r\n                                <td>{row.date}</td>\r\n                                {\r\n                                    row.reqfrom.length===7 && row.acceptedby===\"No supplies in units\"  && <button>Send to dgst</button>\r\n                                }\r\n                                \r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,eAAe,MAAM,0BAA0B;AACtD,OAAOC,iBAAiB,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpD,eAAe,SAASC,mBAAmBA,CAAA,EAAG;EAAAC,EAAA;EAC1C,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClCE,eAAe,CAAC,CAAC;EACjBC,iBAAiB,CAAC,CAAC;EACnBF,SAAS,CAAC,MAAM;IACZ,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAIF,GAAG,GAAG,MAAMG,MAAM,CAACC,QAAQ,CAACC,OAAO,CAClCC,qBAAqB,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CACvDC,IAAI,CAAC,CAAC;MAEX,IAAIC,IAAI,GAAG,MAAMP,MAAM,CAACQ,SAAS,CAACN,OAAO,CACpCC,qBAAqB,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CACvDC,IAAI,CAAC,CAAC;MAEX,IAAIG,OAAO,GAAG,CAAC,GAAGZ,GAAG,CAAC;MACtB,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,IAAI,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;QAClC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,OAAO,CAACE,MAAM,EAAEC,CAAC,EAAE,EAAE;UACrC,IACIH,OAAO,CAACG,CAAC,CAAC,CAACC,KAAK,KAAKN,IAAI,CAACG,CAAC,CAAC,CAACG,KAAK,IAClCJ,OAAO,CAACG,CAAC,CAAC,CAACE,IAAI,KAAKP,IAAI,CAACG,CAAC,CAAC,CAACI,IAAI,EAClC;YACEL,OAAO,CAACG,CAAC,CAAC,GAAGL,IAAI,CAACG,CAAC,CAAC;UACxB;QACJ;MACJ;MACA,IAAID,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE;QACtBF,OAAO,GAAG,CAAC,GAAGF,IAAI,CAAC;MACvB;MAEAT,MAAM,CAACW,OAAO,CAAC;MACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;QACrC,IAAID,OAAO,CAACC,CAAC,CAAC,CAACK,OAAO,CAACJ,MAAM,KAAK,CAAC,EAAE;UACjC,IAAIF,OAAO,CAACC,CAAC,CAAC,CAACM,UAAU,KAAK,sBAAsB,EAAE;YAClD;UAAA;UAGJ,IAAIP,OAAO,CAACC,CAAC,CAAC,CAACO,MAAM,KAAK,SAAS,EAAE;YACjC;YACA;UAAA;QAER,CAAC,MAAM;UACH,IAAIR,OAAO,CAACC,CAAC,CAAC,CAACO,MAAM,KAAK,SAAS,EAAE;YACjC;YACA;UAAA;QAER;MACJ;IACJ,CAAC;IACDlB,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF,oBACIP,OAAA,CAAAE,SAAA;IAAAwB,QAAA,eAEI1B,OAAA;MAAK2B,SAAS,EAAC,WAAW;MAAAD,QAAA,GACzBrB,GAAG,eACJL,OAAA;QAAO2B,SAAS,EAAC,iCAAiC;QAACC,EAAE,EAAC,SAAS;QAAAF,QAAA,gBACvD1B,OAAA;UAAA0B,QAAA,eACI1B,OAAA;YAAA0B,QAAA,gBACI1B,OAAA;cAAA0B,QAAA,EAAI;YAAU;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBhC,OAAA;cAAA0B,QAAA,EAAI;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrBhC,OAAA;cAAA0B,QAAA,EAAI;YAAQ;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjBhC,OAAA;cAAA0B,QAAA,EAAI;YAAU;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBhC,OAAA;cAAA0B,QAAA,EAAI;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACbhC,OAAA;cAAA0B,QAAA,EAAI;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrBhC,OAAA;cAAA0B,QAAA,EAAI;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACRhC,OAAA;UAAA0B,QAAA,EACKrB,GAAG,CAAC4B,GAAG,CAAC,CAACC,GAAG,EAAEhB,CAAC,kBACZlB,OAAA;YAAA0B,QAAA,gBACI1B,OAAA;cAAA0B,QAAA,EAAKS,QAAQ,CAACD,GAAG,CAACb,KAAK;YAAC;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC9BhC,OAAA;cAAA0B,QAAA,EAAKQ,GAAG,CAACX;YAAO;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACtBhC,OAAA;cAAA0B,QAAA,EAAKQ,GAAG,CAACE;YAAQ;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvBhC,OAAA;cAAA0B,QAAA,EAAKQ,GAAG,CAACG;YAAU;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzBhC,OAAA;cAAA0B,QAAA,EAAKQ,GAAG,CAACI;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EAEfE,GAAG,CAACX,OAAO,CAACJ,MAAM,KAAG,CAAC,IAAIe,GAAG,CAACV,UAAU,KAAG,sBAAsB,iBAAKxB,OAAA;cAAA0B,QAAA,EAAQ;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,GAPlGd,CAAC;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUN,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEP;EAAC,gBACR,CAAC;AAEX;AAAC5B,EAAA,CAvFuBD,mBAAmB;AAAAoC,EAAA,GAAnBpC,mBAAmB;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
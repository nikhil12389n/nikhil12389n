{"ast":null,"code":"var _jsxFileName = \"D:\\\\SCMFINAL2\\\\login\\\\FrontEnd\\\\src\\\\Roles\\\\DDST\\\\ReceivedRequests.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport DataTable from 'da';\nimport 'datatables.net-dt/css/jquery.dataTables.css';\nimport ConnectMetamask from '../Connection/ConnectMetaMask';\nimport ConnectContract from '../Connection/ConnectSmartContract';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet account = \"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\nexport default function DDSTReceivedRequests() {\n  _s();\n  const [res, setRes] = useState([]);\n  ConnectMetamask();\n  ConnectContract();\n  useEffect(() => {\n    const fetchdata = async () => {\n      const res = await window.contract.methods.getAllreceivedDDST(localStorage.getItem(\"ROLENAME\")).call();\n      setRes(res);\n      console.log(res);\n    };\n    fetchdata();\n  }, [window.contract.methods, localStorage.getItem(\"ROLENAME\")]);\n  const sendtoadsts = async row => {\n    await window.contract.methods.DDSTforwardRequest(row.reqfrom, localStorage.getItem(\"ROLENAME\"), parseInt(row.reqno), row.products, row.quantities, row.date, row.from).send({\n      from: account\n    });\n  };\n  const sendtoalladsts = async row => {\n    await window.contract.methods.DDSTforwardRequest(row.reqfrom, localStorage.getItem(\"ROLENAME\"), parseInt(row.reqno), row.products, row.quantities, row.date, row.from).send({\n      from: account\n    });\n  };\n  const sendtodgst = async row => {\n    console.log(row.products);\n    await window.contract.methods.DDSTsendDGST(localStorage.getItem(\"ROLENAME\"), parseInt(row.reqno), row.products, row.quantities, row.date, row.from).send({\n      from: account\n    });\n  };\n  const columns = [{\n    title: 'RequestNo',\n    data: 'reqno'\n  }, {\n    title: 'Reqorigin',\n    data: 'from'\n  }, {\n    title: 'Reqfrom',\n    data: 'reqfrom'\n  }, {\n    title: 'Products',\n    data: 'products'\n  }, {\n    title: 'Quantities',\n    data: 'quantities'\n  }, {\n    title: 'Date',\n    data: 'date'\n  }, {\n    title: 'Send to adsts',\n    render: (data, type, row) => row.acceptedby === \"No supplies in units\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"NA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this) : row.status === \"pending\" && row.reqfrom !== \"DGST\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => sendtoadsts(row),\n      children: \"Send to adsts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => sendtoalladsts(row),\n      children: \"Send to all adsts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }, this)\n  }, {\n    title: 'Send to dgst',\n    render: (data, type, row) => row.acceptedby === \"No supplies in units\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => sendtodgst(row),\n      children: \"Send to DGST\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"NA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: res\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(DDSTReceivedRequests, \"JHicEwtYZXxnb1oyf1SP5sp0KCE=\");\n_c = DDSTReceivedRequests;\nvar _c;\n$RefreshReg$(_c, \"DDSTReceivedRequests\");","map":{"version":3,"names":["React","useEffect","useRef","useState","DataTable","ConnectMetamask","ConnectContract","jsxDEV","_jsxDEV","Fragment","_Fragment","account","DDSTReceivedRequests","_s","res","setRes","fetchdata","window","contract","methods","getAllreceivedDDST","localStorage","getItem","call","console","log","sendtoadsts","row","DDSTforwardRequest","reqfrom","parseInt","reqno","products","quantities","date","from","send","sendtoalladsts","sendtodgst","DDSTsendDGST","columns","title","data","render","type","acceptedby","children","fileName","_jsxFileName","lineNumber","columnNumber","status","className","onClick","_c","$RefreshReg$"],"sources":["D:/SCMFINAL2/login/FrontEnd/src/Roles/DDST/ReceivedRequests.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport DataTable from 'da';\r\nimport 'datatables.net-dt/css/jquery.dataTables.css';\r\nimport ConnectMetamask from '../Connection/ConnectMetaMask';\r\nimport ConnectContract from '../Connection/ConnectSmartContract';\r\n\r\nlet account = \"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\r\n\r\nexport default function DDSTReceivedRequests() {\r\n  const [res, setRes] = useState([]);\r\n\r\n  ConnectMetamask();\r\n  ConnectContract();\r\n\r\n  useEffect(() => {\r\n    const fetchdata = async () => {\r\n      const res = await window.contract.methods.getAllreceivedDDST(localStorage.getItem(\"ROLENAME\")).call();\r\n      setRes(res);\r\n      console.log(res);\r\n    };\r\n\r\n    fetchdata();\r\n  }, [window.contract.methods, localStorage.getItem(\"ROLENAME\")]);\r\n\r\n  const sendtoadsts = async (row) => {\r\n    await window.contract.methods\r\n      .DDSTforwardRequest(\r\n        row.reqfrom,\r\n        localStorage.getItem(\"ROLENAME\"),\r\n        parseInt(row.reqno),\r\n        row.products,\r\n        row.quantities,\r\n        row.date,\r\n        row.from\r\n      )\r\n      .send({ from: account });\r\n  };\r\n\r\n  const sendtoalladsts = async (row) => {\r\n    await window.contract.methods\r\n      .DDSTforwardRequest(\r\n        row.reqfrom,\r\n        localStorage.getItem(\"ROLENAME\"),\r\n        parseInt(row.reqno),\r\n        row.products,\r\n        row.quantities,\r\n        row.date,\r\n        row.from\r\n      )\r\n      .send({ from: account });\r\n  };\r\n\r\n  const sendtodgst = async (row) => {\r\n    console.log(row.products);\r\n    await window.contract.methods\r\n      .DDSTsendDGST(\r\n        localStorage.getItem(\"ROLENAME\"),\r\n        parseInt(row.reqno),\r\n        row.products,\r\n        row.quantities,\r\n        row.date,\r\n        row.from\r\n      )\r\n      .send({ from: account });\r\n  };\r\n\r\n  const columns = [\r\n    { title: 'RequestNo', data: 'reqno' },\r\n    { title: 'Reqorigin', data: 'from' },\r\n    { title: 'Reqfrom', data: 'reqfrom' },\r\n    { title: 'Products', data: 'products' },\r\n    { title: 'Quantities', data: 'quantities' },\r\n    { title: 'Date', data: 'date' },\r\n    {\r\n      title: 'Send to adsts',\r\n      render: (data, type, row) =>\r\n        row.acceptedby === \"No supplies in units\" ? (\r\n          <p>NA</p>\r\n        ) : row.status === \"pending\" && row.reqfrom !== \"DGST\" ? (\r\n          <button className='btn btn-primary' onClick={() => sendtoadsts(row)}>\r\n            Send to adsts\r\n          </button>\r\n        ) : (\r\n          <button className='btn btn-primary' onClick={() => sendtoalladsts(row)}>\r\n            Send to all adsts\r\n          </button>\r\n        ),\r\n    },\r\n    {\r\n      title: 'Send to dgst',\r\n      render: (data, type, row) =>\r\n        row.acceptedby === \"No supplies in units\" ? (\r\n          <button className='btn btn-primary' onClick={() => sendtodgst(row)}>\r\n            Send to DGST\r\n          </button>\r\n        ) : (\r\n          <p>NA</p>\r\n        ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <DataTable columns={columns} data={res} />\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\SCMFINAL2\\\\login\\\\public\\\\src\\\\Roles\\\\ADST\\\\SendRequest.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport $ from 'jquery';\nimport 'datatables.net';\nimport ConnectMetaMask from \"/login/public/src/Connection/ConnectMetaMask\";\nimport 'datatables.net-dt/css/jquery.dataTables.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SendRequest() {\n  _s();\n  let account = \"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\n  let products = [];\n  let quantities = [];\n  let table;\n  Con;\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    table = $(\"#example\").DataTable({\n      columns: [{\n        title: \"RequestNo\",\n        data: \"requestno\"\n      }, {\n        title: \"product\",\n        data: \"product\"\n      }, {\n        title: \"quantity\",\n        data: \"quantity\"\n      }, {\n        title: \"date\",\n        data: \"date\"\n      }]\n    });\n  }, []);\n  const putdata = async (adstname, product, quantity, date, e) => {\n    const count = parseInt(await window.contract.methods.getrequestcount(localStorage.getItem(\"ROLENAME\")).call());\n    products.push(product);\n    quantities.push(quantity);\n    if (e === \"notsubmit\") {\n      table.row.add({\n        requestno: count + 1,\n        product: product,\n        quantity: quantity,\n        date: date\n      }).draw();\n    } else {\n      table.row.add({\n        'requestno': count + 1,\n        'product': product,\n        'quantity': quantity,\n        'date': date\n      }).draw();\n\n      //   console.log(document.getElementById(\"adstname\").innerText,products,quantities,date);\n      let dup = localStorage.getItem(\"ROLENAME\");\n      let ref = \"\";\n      for (let i = 0; i < 2; i++) {\n        ref += dup[i];\n      }\n      if (ref === \"D1\") {\n        dup = \"DIVISION1\";\n      }\n      if (ref === \"D2\") {\n        dup = \"DIVISION2\";\n      }\n      if (ref === \"D3\") {\n        dup = \"DIVISION3\";\n      }\n      try {\n        await window.contract.methods.fillform(dup, localStorage.getItem(\"ROLENAME\"), products, quantities, date).send({\n          from: account\n        });\n      } catch (err) {\n        alert(\"Transaction is cancelled!\");\n      }\n    }\n  };\n  const handleclick = () => {\n    putdata(localStorage.getItem(\"ROLENAME\"), document.getElementById('product').value, document.getElementById('quantity').value, document.getElementById('date1').value, 'submit');\n  };\n  const handleclick1 = () => {\n    putdata(localStorage.getItem(\"ROLENAME\"), document.getElementById('product').value, document.getElementById('quantity').value, document.getElementById('date1').value, 'notsubmit');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form bs-tooltip-end container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h\", {\n        children: \"Enter product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"product\",\n        id: \"product\",\n        className: \"form-control\",\n        list: \"browser\",\n        name: \"browser\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"browser\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Wheat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Grains\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Eggs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Rice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Meals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n        children: \" Enter Quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        placeholder: \"quantity\",\n        min: \"1\",\n        id: \"quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n        children: \"Enter date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        className: \"form-control\",\n        placeholder: \"date\",\n        id: \"date1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: handleclick1,\n        children: \"Addmore\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Details of your request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        id: \"example\",\n        style: {\n          width: \"100\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: handleclick,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(SendRequest, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = SendRequest;\nvar _c;\n$RefreshReg$(_c, \"SendRequest\");","map":{"version":3,"names":["useContext","useEffect","Web3","$","ConnectMetaMask","jsxDEV","_jsxDEV","Fragment","_Fragment","SendRequest","_s","account","products","quantities","table","Con","DataTable","columns","title","data","putdata","adstname","product","quantity","date","e","count","parseInt","window","contract","methods","getrequestcount","localStorage","getItem","call","push","row","add","requestno","draw","dup","ref","i","fillform","send","from","err","alert","handleclick","document","getElementById","value","handleclick1","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","id","list","name","min","onClick","style","width","_c","$RefreshReg$"],"sources":["D:/SCMFINAL2/login/public/src/Roles/ADST/SendRequest.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from 'jquery';\r\nimport 'datatables.net';\r\nimport ConnectMetaMask from \"/login/public/src/Connection/ConnectMetaMask\"\r\nimport 'datatables.net-dt/css/jquery.dataTables.css';\r\nexport default function SendRequest(){\r\n\r\n  \r\n  let account=\"0x85e19d642d24fe428Eb9205F077a856CA8bC95B0\";\r\n  let products=[];\r\n  let quantities=[];\r\n  let table;\r\n  Con\r\n  useEffect(()=>{\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    table= $(\"#example\").DataTable({\r\n      columns: [\r\n        { title: \"RequestNo\", data: \"requestno\" },\r\n        { title: \"product\", data: \"product\" },\r\n        { title: \"quantity\", data: \"quantity\" },\r\n        { title: \"date\", data: \"date\" },\r\n      ],\r\n    });\r\n\r\n    \r\n\r\n  },[]);\r\n  const putdata=async(adstname,product,quantity,date,e)=>{\r\n\r\n    const count=parseInt(await window.contract.methods.getrequestcount(localStorage.getItem(\"ROLENAME\")).call());\r\n    products.push(product);\r\n    quantities.push(quantity);\r\n\r\n    if(e===\"notsubmit\"){\r\n      table.row.add({requestno:count+1,product:product,quantity:quantity,date:date}).draw();\r\n    }\r\n    else{\r\n      table.row.add({'requestno':count+1,'product':product,'quantity':quantity,'date':date}).draw();\r\n    \r\n    //   console.log(document.getElementById(\"adstname\").innerText,products,quantities,date);\r\n      let dup=localStorage.getItem(\"ROLENAME\");\r\n      let ref=\"\";\r\n      for(let i=0;i<2;i++){\r\n          ref+=dup[i];\r\n      }\r\n      if(ref===\"D1\"){\r\n          dup=\"DIVISION1\";\r\n      }\r\n      if(ref===\"D2\"){\r\n          dup=\"DIVISION2\";\r\n      }\r\n      if(ref===\"D3\"){\r\n          dup=\"DIVISION3\";\r\n      }\r\n      try{\r\n        await window.contract.methods.fillform(dup,localStorage.getItem(\"ROLENAME\"),products,quantities,date).send({from:account});\r\n      }\r\n      catch(err){\r\n        alert(\"Transaction is cancelled!\");\r\n      }\r\n\r\n    }\r\n  }\r\n  const handleclick=()=>{\r\n    putdata(localStorage.getItem(\"ROLENAME\"),document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'submit');\r\n  }\r\n  const handleclick1=()=>{\r\n    putdata(localStorage.getItem(\"ROLENAME\"),document.getElementById('product').value,document.getElementById('quantity').value,document.getElementById('date1').value,'notsubmit')\r\n  }\r\n    return (\r\n        <>\r\n        <div className=\"form bs-tooltip-end container\">\r\n\r\n      <h>Enter product</h>\r\n      <input  type=\"text\"  placeholder=\"product\"  id=\"product\" className=\"form-control\" list=\"browser\" name=\"browser\"/>\r\n      <datalist id=\"browser\">\r\n        <option value=\"Wheat\"></option>\r\n        <option value=\"Grains\"></option>\r\n        <option value=\"Eggs\"></option>\r\n        <option value=\"Rice\"></option>\r\n        <option value=\"Meals\"></option>\r\n      </datalist>\r\n      <h> Enter Quantity</h>\r\n      <input type=\"number\" className=\"form-control\" placeholder=\"quantity\" min=\"1\" id=\"quantity\"/>\r\n      <h>Enter date</h>\r\n      <input type=\"date\" className=\"form-control\" placeholder=\"date\" id=\"date1\" />\r\n      <button className=\"btn btn-dark\" onClick={handleclick1}>Addmore</button>\r\n      <hr />\r\n      <h3>Details of your request</h3>\r\n\r\n      <table id=\"example\" style={{width: \"100\"}}></table>\r\n      <button className=\"btn btn-dark\" onClick={handleclick}>Submit</button>\r\n    </div>\r\n\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}